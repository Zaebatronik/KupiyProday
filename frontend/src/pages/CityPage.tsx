import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useTranslation } from 'react-i18next';
import LocationSelector from '../components/LocationSelector';
import '../styles/CityPage.css';

// –ù–∞—Å–µ–ª—ë–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –ø–æ —Å—Ç—Ä–∞–Ω–∞–º (–≥–æ—Ä–æ–¥–∞, –ø—Ä–∏–≥–æ—Ä–æ–¥—ã, –ø–æ—Å—ë–ª–∫–∏)
const citiesByCountry: Record<string, { top: string[]; all: string[] }> = {
  RU: {
    top: ['–ú–æ—Å–∫–≤–∞', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', '–ö–∞–∑–∞–Ω—å'],
    all: ['–ú–æ—Å–∫–≤–∞', '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', '–ö–∞–∑–∞–Ω—å', '–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥', '–ß–µ–ª—è–±–∏–Ω—Å–∫', '–°–∞–º–∞—Ä–∞', '–û–º—Å–∫', '–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É', '–£—Ñ–∞', '–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫', '–í–æ—Ä–æ–Ω–µ–∂', '–ü–µ—Ä–º—å', '–í–æ–ª–≥–æ–≥—Ä–∞–¥', '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', '–°–∞—Ä–∞—Ç–æ–≤', '–¢—é–º–µ–Ω—å', '–¢–æ–ª—å—è—Ç—Ç–∏', '–ò–∂–µ–≤—Å–∫', '–ë–∞—Ä–Ω–∞—É–ª', '–£–ª—å—è–Ω–æ–≤—Å–∫', '–ò—Ä–∫—É—Ç—Å–∫', '–•–∞–±–∞—Ä–æ–≤—Å–∫', '–Ø—Ä–æ—Å–ª–∞–≤–ª—å', '–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫', '–ú–∞—Ö–∞—á–∫–∞–ª–∞', '–¢–æ–º—Å–∫', '–û—Ä–µ–Ω–±—É—Ä–≥', '–ö–µ–º–µ—Ä–æ–≤–æ', '–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫', '–†—è–∑–∞–Ω—å', '–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å', '–ü–µ–Ω–∑–∞', '–ö–∏—Ä–æ–≤', '–õ–∏–ø–µ—Ü–∫', '–ß–µ–±–æ–∫—Å–∞—Ä—ã', '–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥', '–¢—É–ª–∞', '–ö—É—Ä—Å–∫', '–°–æ—á–∏', '–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å', '–£–ª–∞–Ω-–£–¥—ç', '–ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫', '–ë—Ä—è–Ω—Å–∫', '–ò–≤–∞–Ω–æ–≤–æ', '–ë–µ–ª–≥–æ—Ä–æ–¥', '–°—É—Ä–≥—É—Ç', '–í–ª–∞–¥–∏–º–∏—Ä', '–ù–∏–∂–Ω–∏–π –¢–∞–≥–∏–ª', '–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫', '–ö–∞–ª—É–≥–∞', '–ß–∏—Ç–∞', '–°–º–æ–ª–µ–Ω—Å–∫', '–í–æ–ª–∂—Å–∫–∏–π', '–ö—É—Ä–≥–∞–Ω', '–û—Ä—ë–ª', '–ß–µ—Ä–µ–ø–æ–≤–µ—Ü', '–í–æ–ª–æ–≥–¥–∞', '–í–ª–∞–¥–∏–∫–∞–≤–∫–∞–∑', '–ú—É—Ä–º–∞–Ω—Å–∫', '–°–∞—Ä–∞–Ω—Å–∫', '–Ø–∫—É—Ç—Å–∫', '–¢–∞–º–±–æ–≤', '–ì—Ä–æ–∑–Ω—ã–π', '–°—Ç–µ—Ä–ª–∏—Ç–∞–º–∞–∫', '–ö–æ—Å—Ç—Ä–æ–º–∞', '–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫', '–ù–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫', '–ô–æ—à–∫–∞—Ä-–û–ª–∞', '–ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫', '–•–∏–º–∫–∏', '–¢–∞–≥–∞–Ω—Ä–æ–≥', '–ö–æ–º—Å–æ–º–æ–ª—å—Å–∫-–Ω–∞-–ê–º—É—Ä–µ', '–°—ã–∫—Ç—ã–≤–∫–∞—Ä', '–ù–∏–∂–Ω–µ–∫–∞–º—Å–∫', '–ù–∞–±–µ—Ä–µ–∂–Ω—ã–µ –ß–µ–ª–Ω—ã', '–®–∞—Ö—Ç—ã', '–î–∑–µ—Ä–∂–∏–Ω—Å–∫', '–ë—Ä–∞—Ç—Å–∫', '–û—Ä—Å–∫', '–ê–Ω–≥–∞—Ä—Å–∫', '–ë–∞–ª–∞—à–∏—Ö–∞', '–≠–Ω–≥–µ–ª—å—Å', '–°—Ç–∞—Ä—ã–π –û—Å–∫–æ–ª', '–í–µ–ª–∏–∫–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥', '–ü–æ–¥–æ–ª—å—Å–∫', '–ö–æ—Ä–æ–ª—ë–≤', '–ú—ã—Ç–∏—â–∏', '–õ—é–±–µ—Ä—Ü—ã', '–≠–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–ª—å', '–ü—Ä–æ–∫–æ–ø—å–µ–≤—Å–∫', '–ë–∏–π—Å–∫', '–ê—Ä–º–∞–≤–∏—Ä', '–ù–æ—Ä–∏–ª—å—Å–∫', '–ù–æ–≤–æ—á–µ—Ä–∫–∞—Å—Å–∫', '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π', '–ü—Å–∫–æ–≤', '–Æ–∂–Ω–æ-–°–∞—Ö–∞–ª–∏–Ω—Å–∫', '–ö–∞–º–µ–Ω—Å–∫-–£—Ä–∞–ª—å—Å–∫–∏–π', '–©—ë–ª–∫–æ–≤–æ', '–û–¥–∏–Ω—Ü–æ–≤–æ', '–ö—Ä–∞—Å–Ω–æ–≥–æ—Ä—Å–∫', '–î–æ–º–æ–¥–µ–¥–æ–≤–æ', '–†–∞–º–µ–Ω—Å–∫–æ–µ', '–ñ—É–∫–æ–≤—Å–∫–∏–π', '–ü—É—à–∫–∏–Ω–æ', '–°–µ—Ä–≥–∏–µ–≤ –ü–æ—Å–∞–¥', '–ù–æ–≥–∏–Ω—Å–∫', '–ö–æ–ª–æ–º–Ω–∞', '–°–µ—Ä–ø—É—Ö–æ–≤', '–û—Ä–µ—Ö–æ–≤–æ-–ó—É–µ–≤–æ', '–≠–ª–µ–∫—Ç—Ä–æ–≥–æ—Ä—Å–∫', '–ü–∞–≤–ª–æ–≤—Å–∫–∏–π –ü–æ—Å–∞–¥', '–°—Ç—É–ø–∏–Ω–æ', '–í–æ—Å–∫—Ä–µ—Å–µ–Ω—Å–∫', '–î–º–∏—Ç—Ä–æ–≤', '–ò—Å—Ç—Ä–∞', '–ö–ª–∏–Ω', '–ú–æ–∂–∞–π—Å–∫', '–ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥', '–¢—Ä–æ–∏—Ü–∫', '–©–µ—Ä–±–∏–Ω–∫–∞', '–í–∏–¥–Ω–æ–µ', '–†–µ—É—Ç–æ–≤', '–ò–≤–∞–Ω—Ç–µ–µ–≤–∫–∞', '–§—Ä—è–∑–∏–Ω–æ', '–õ–æ—Å–∏–Ω–æ-–ü–µ—Ç—Ä–æ–≤—Å–∫–∏–π', '–ó–≤–µ–Ω–∏–≥–æ—Ä–æ–¥', '–ö—Ä–∞—Å–Ω–æ–∑–Ω–∞–º–µ–Ω—Å–∫', '–ì–æ–ª–∏—Ü—ã–Ω–æ', '–ö—É–±–∏–Ω–∫–∞', '–ù–∞—Ä–æ-–§–æ–º–∏–Ω—Å–∫', '–ê–ø—Ä–µ–ª–µ–≤–∫–∞', '–°–µ–ª—è—Ç–∏–Ω–æ', '–í–Ω—É–∫–æ–≤–æ', '–ú–æ—Å–∫–æ–≤—Å–∫–∏–π', '–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–æ–µ', '–°–æ—Å–µ–Ω—Å–∫–æ–µ', '–©–∞–ø–æ–≤–æ', '–ö–æ–ª–ø–∏–Ω–æ', '–ü—É—à–∫–∏–Ω', '–ü–µ—Ç–µ—Ä–≥–æ—Ñ', '–ö—Ä–æ–Ω—à—Ç–∞–¥—Ç', '–°–µ—Å—Ç—Ä–æ—Ä–µ—Ü–∫', '–ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫', '–ü–∞–≤–ª–æ–≤—Å–∫', '–ì–∞—Ç—á–∏–Ω–∞', '–í—ã–±–æ—Ä–≥', '–ö–∏–Ω–≥–∏—Å–µ–ø–ø', '–¢–æ—Å–Ω–æ', '–í–æ–ª—Ö–æ–≤', '–í—Å–µ–≤–æ–ª–æ–∂—Å–∫', '–ö—É–¥—Ä–æ–≤–æ', '–ú—É—Ä–∏–Ω–æ', '–ë—É–≥—Ä—ã', '–ü–∞—Ä–≥–æ–ª–æ–≤–æ', '–°–µ—Ä—Ç–æ–ª–æ–≤–æ', '–®—É—à–∞—Ä—ã', '–ú–µ—Ç–∞–ª–ª–æ—Å—Ç—Ä–æ–π']
  },
  UA: {
    top: ['–ö–∏—ó–≤', '–•–∞—Ä–∫—ñ–≤', '–û–¥–µ—Å–∞', '–î–Ω—ñ–ø—Ä–æ', '–õ—å–≤—ñ–≤'],
    all: ['–ö–∏—ó–≤', '–•–∞—Ä–∫—ñ–≤', '–û–¥–µ—Å–∞', '–î–Ω—ñ–ø—Ä–æ', '–õ—å–≤—ñ–≤', '–ó–∞–ø–æ—Ä—ñ–∂–∂—è', '–ö—Ä–∏–≤–∏–π –†—ñ–≥', '–ú–∏–∫–æ–ª–∞—ó–≤', '–ú–∞—Ä—ñ—É–ø–æ–ª—å', '–õ—É–≥–∞–Ω—Å—å–∫', '–í—ñ–Ω–Ω–∏—Ü—è', '–ú–∞–∫—ñ—ó–≤–∫–∞', '–°—ñ–º—Ñ–µ—Ä–æ–ø–æ–ª—å', '–•–µ—Ä—Å–æ–Ω', '–ü–æ–ª—Ç–∞–≤–∞', '–ß–µ—Ä–Ω—ñ–≥—ñ–≤', '–ß–µ—Ä–∫–∞—Å–∏', '–°—É–º–∏', '–ñ–∏—Ç–æ–º–∏—Ä', '–•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π', '–ß–µ—Ä–Ω—ñ–≤—Ü—ñ', '–†—ñ–≤–Ω–µ', '–ö—Ä–æ–ø–∏–≤–Ω–∏—Ü—å–∫–∏–π', '–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫', '–ö—Ä–µ–º–µ–Ω—á—É–∫', '–¢–µ—Ä–Ω–æ–ø—ñ–ª—å', '–õ—É—Ü—å–∫', '–ë—ñ–ª–∞ –¶–µ—Ä–∫–≤–∞', '–ö—Ä–∞–º–∞—Ç–æ—Ä—Å—å–∫', '–ú–µ–ª—ñ—Ç–æ–ø–æ–ª—å', '–£–∂–≥–æ—Ä–æ–¥', '–ë—Ä–æ–≤–∞—Ä–∏', '–Ü—Ä–ø—ñ–Ω—å', '–ë—É—á–∞', '–ë–æ—Ä–∏—Å–ø—ñ–ª—å', '–í–∏—à–Ω–µ–≤–µ', '–§–∞—Å—Ç—ñ–≤', '–í–∞—Å–∏–ª—å–∫—ñ–≤', '–û–±—É—Ö—ñ–≤', '–ü–µ—Ä–µ—è—Å–ª–∞–≤', '–Ø–≥–æ—Ç–∏–Ω', '–ë–æ—Ä–∏—Å–ø—ñ–ª—å—Å—å–∫–∏–π —Ä–∞–π–æ–Ω', '–í–∏—à–≥–æ—Ä–æ–¥', '–°–ª–∞–≤—É—Ç–∏—á', '–ü—Ä–∏–ø\'—è—Ç—å', '–î—Ä—É–∂–∫—ñ–≤–∫–∞', '–°–ª–æ–≤\'—è–Ω—Å—å–∫', '–õ–∏—Å–∏—á–∞–Ω—Å—å–∫', '–°—î–≤—î—Ä–æ–¥–æ–Ω–µ—Ü—å–∫', '–ê–ª—á–µ–≤—Å—å–∫', '–°—Ç–∞—Ö–∞–Ω–æ–≤', '–ì–æ—Ä–ª—ñ–≤–∫–∞', '–Ñ–Ω–∞–∫—ñ—î–≤–µ', '–î–æ–Ω–µ—Ü—å–∫', '–ö–æ—Å—Ç—è–Ω—Ç–∏–Ω—ñ–≤–∫–∞', '–¢–æ—Ä–µ—Ü—å–∫', '–ë–∞—Ö–º—É—Ç', '–ü–æ–∫—Ä–æ–≤—Å—å–∫', '–ú–∏—Ä–Ω–æ–≥—Ä–∞–¥', '–ê–≤–¥—ñ—ó–≤–∫–∞', '–Ø—Å–∏–Ω—É–≤–∞—Ç–∞', '–í–æ–ª–Ω–æ–≤–∞—Ö–∞', '–ù—ñ–∫–æ–ø–æ–ª—å', '–ü–∞–≤–ª–æ–≥—Ä–∞–¥', '–ö–∞–º\'—è–Ω—Å—å–∫–µ', '–ñ–æ–≤—Ç—ñ –í–æ–¥–∏', '–ú–∞—Ä–≥–∞–Ω–µ—Ü—å', '–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å—å–∫', '–ü–µ—Ä–µ—â–µ–ø–∏–Ω–µ', '–ö–∞–º\'—è–Ω—Å—å–∫–µ –≤–æ–¥–æ—Å—Ö–æ–≤–∏—â–µ', '–Ø–ª—Ç–∞', '–Ñ–≤–ø–∞—Ç–æ—Ä—ñ—è', '–§–µ–æ–¥–æ—Å—ñ—è', '–ö–µ—Ä—á', '–ê–ª—É—à—Ç–∞', '–°—É–¥–∞–∫', '–ë–∞—Ö—á–∏—Å–∞—Ä–∞–π', '–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å', '–Ü–Ω–∫–µ—Ä–º–∞–Ω', '–ë–∞–ª–∞–∫–ª–∞–≤–∞', '–¢—Ä—É—Å–∫–∞–≤–µ—Ü—å', '–ë–æ—Ä–∏—Å–ª–∞–≤', '–î—Ä–æ–≥–æ–±–∏—á', '–°—Ç—Ä–∏–π', '–°–∞–º–±—ñ—Ä', '–ß–µ—Ä–≤–æ–Ω–æ–≥—Ä–∞–¥', '–Ø—Ä–µ–º—á–µ', '–ú–æ—Ä—à–∏–Ω', '–°–∫–æ–ª–µ', '–ö–æ–ª–æ–º–∏—è', '–ö–∞–ª—É—à', '–î–æ–ª–∏–Ω–∞', '–ù–∞–¥–≤—ñ—Ä–Ω–∞']
  },
  BY: {
    top: ['–ú—ñ–Ω—Å—å–∫', '–ì–æ–º–µ–ª—å', '–ú–æ–≥–∏–ª—ë–≤', '–í–∏—Ç–µ–±—Å–∫', '–ì—Ä–æ–¥–Ω–æ'],
    all: ['–ú—ñ–Ω—Å—å–∫', '–ì–æ–º–µ–ª—å', '–ú–æ–≥–∏–ª—ë–≤', '–í–∏—Ç–µ–±—Å–∫', '–ì—Ä–æ–¥–Ω–æ', '–ë—Ä–µ—Å—Ç', '–ë–æ–±—Ä—É–π—Å–∫', '–ë–∞—Ä–∞–Ω–æ–≤–∏—á–∏', '–ë–æ—Ä–∏—Å–æ–≤', '–ü–∏–Ω—Å–∫', '–û—Ä—à–∞', '–ú–æ–∑—ã—Ä—å', '–°–æ–ª–∏–≥–æ—Ä—Å–∫', '–ù–æ–≤–æ–ø–æ–ª–æ—Ü–∫', '–õ–∏–¥–∞', '–ü–æ–ª–æ—Ü–∫', '–ñ–ª–æ–±–∏–Ω', '–°–≤–µ—Ç–ª–æ–≥–æ—Ä—Å–∫', '–†–µ—á–∏—Ü–∞', '–°–ª—É—Ü–∫', '–ú–æ–ª–æ–¥–µ—á–Ω–æ', '–ñ–æ–¥–∏–Ω–æ', '–î–∑–µ—Ä–∂–∏–Ω—Å–∫', '–ú–∞—Ä—å–∏–Ω–∞ –ì–æ—Ä–∫–∞', '–°–º–æ–ª–µ–≤–∏—á–∏', '–ó–∞—Å–ª–∞–≤–ª—å', '–õ–æ–≥–æ–π—Å–∫', '–ú–∏–Ω—Å–∫–∏–π —Ä–∞–π–æ–Ω', '–ö–æ–ª–æ–¥–∏—â–∏', '–ë–æ—Ä–æ–≤–ª—è–Ω—ã', '–ñ–¥–∞–Ω–æ–≤–∏—á–∏', '–õ–æ—à–∏—Ü–∞', '–û–∑–µ—Ä–æ', '–°–µ–Ω–Ω–∏—Ü–∞', '–©–æ–º—ã—Å–ª–∏—Ü–∞', '–ù–æ–≤–∏–Ω–∫–∏', '–°—Ç–∞–Ω—å–∫–æ–≤–æ', '–§–∞–Ω–∏–ø–æ–ª—å', '–ö–æ–ø—ã–ª—å', '–ù–µ—Å–≤–∏–∂', '–ö–ª–µ—Ü–∫', '–°—Ç–æ–ª–±—Ü—ã', '–£–∑–¥–∞', '–í–æ–ª–æ–∂–∏–Ω', '–í–∏–ª–µ–π–∫–∞', '–ú—è–¥–µ–ª—å', '–ù–∞—Ä–æ—á—å', '–†–∞–∫–æ–≤', '–ò–≤–µ–Ω–µ—Ü', '–ì–æ—Ä–æ–¥–µ—è', '–õ—é–±–∞–Ω—å', '–°—Ç–∞—Ä—ã–µ –î–æ—Ä–æ–≥–∏', '–û—Å–∏–ø–æ–≤–∏—á–∏', '–ö–ª–∏—á–µ–≤', '–ë–µ–ª—ã–Ω–∏—á–∏', '–ö—Ä—É–≥–ª–æ–µ', '–®–∫–ª–æ–≤', '–ì–æ—Ä–∫–∏', '–ö—Ä–∏—á–µ–≤', '–ß–∞—É—Å—ã', '–ß–µ—Ä–∏–∫–æ–≤', '–ö–æ—Å—Ç—é–∫–æ–≤–∏—á–∏', '–°–ª–∞–≤–≥–æ—Ä–æ–¥', '–ë—ã—Ö–æ–≤', '–ù–æ–≤–æ–≥—Ä—É–¥–æ–∫', '–°–ª–æ–Ω–∏–º', '–í–æ–ª–∫–æ–≤—ã—Å–∫', '–ú–æ—Å—Ç—ã', '–°–∫–∏–¥–µ–ª—å', '–ë–µ—Ä—ë–∑–æ–≤–∫–∞', '–°–≤–∏—Å–ª–æ—á—å', '–û—Å—Ç—Ä–æ–≤–µ—Ü', '–°–º–æ—Ä–≥–æ–Ω—å', '–û—à–º—è–Ω—ã', '–ò–≤—å–µ', '–õ–µ–ø–µ–ª—å', '–ì–ª—É–±–æ–∫–æ–µ', '–ü–æ—Å—Ç–∞–≤—ã', '–ë—Ä–∞—Å–ª–∞–≤', '–î–æ–∫—à–∏—Ü—ã', '–®–∞—Ä–∫–æ–≤—â–∏–Ω–∞', '–í–µ—Ä—Ö–Ω–µ–¥–≤–∏–Ω—Å–∫', '–ù–æ–≤–æ–ª—É–∫–æ–º–ª—å', '–î–∏—Å–Ω–∞', '–ì–æ—Ä–æ–¥–æ–∫', '–õ–∏–æ–∑–Ω–æ', '–°–µ–Ω–Ω–æ']
  },
  KZ: {
    top: ['–ê–ª–º–∞—Ç—ã', '–ê—Å—Ç–∞–Ω–∞', '–®—ã–º–∫–µ–Ω—Ç', '–ö–∞—Ä–∞–≥–∞–Ω–¥–∞', '–ê–∫—Ç–æ–±–µ'],
    all: ['–ê–ª–º–∞—Ç—ã', '–ê—Å—Ç–∞–Ω–∞', '–®—ã–º–∫–µ–Ω—Ç', '–ö–∞—Ä–∞–≥–∞–Ω–¥–∞', '–ê–∫—Ç–æ–±–µ', '–¢–∞—Ä–∞–∑', '–ü–∞–≤–ª–æ–¥–∞—Ä', '–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫', '–°–µ–º–µ–π', '–ê—Ç—ã—Ä–∞—É', '–ö–æ—Å—Ç–∞–Ω–∞–π', '–ö—ã–∑—ã–ª–æ—Ä–¥–∞', '–£—Ä–∞–ª—å—Å–∫', '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫', '–ê–∫—Ç–∞—É', '–¢–µ–º–∏—Ä—Ç–∞—É', '–¢—É—Ä–∫–µ—Å—Ç–∞–Ω', '–ö–æ–∫—à–µ—Ç–∞—É', '–¢–∞–ª–¥—ã–∫–æ—Ä–≥–∞–Ω', '–≠–∫–∏–±–∞—Å—Ç—É–∑', '–†—É–¥–Ω—ã–π', '–ñ–µ–∑–∫–∞–∑–≥–∞–Ω', '–°–∞—Ç–ø–∞–µ–≤', '–ë–∞–ª—Ö–∞—à', '–ö–∞—Å–∫–µ–ª–µ–Ω', '–¢–∞–ª–≥–∞—Ä', '–ï—Å–∏–∫', '–ö–∞–ø—á–∞–≥–∞–π', '–¢–µ–∫–µ–ª–∏', '–°–∞—Ä–∫–∞–Ω–¥', '–ñ–∞—Ä–∫–µ–Ω—Ç', '–£—à–∞—Ä–∞–ª', '–ß—É–Ω–¥–∂–∞', '–ö–µ–≥–µ–Ω', '–ë–∞–π—Å–µ—Ä–∫–µ', '–û—Ç–µ–≥–µ–Ω –±–∞—Ç—ã—Ä', '–ê–ª–∞—Ç–∞—É', '–ë–æ—Ä–∞–ª–¥–∞–π', '–®–∞–º–∞–ª–≥–∞–Ω', '–£–∑—ã–Ω–∞–≥–∞—à', '–ë—É—Ä—É–Ω–¥–∞–π', '–ê–∫—Å–∞–π', '–ê–∫—Å–µ–Ω–≥–∏—Ä', '–ê–±–∞–π', '–°–∞—Ä—ã–∞–≥–∞—à', '–ö–µ–Ω—Ç–∞—É', '–ê—Ä—ã—Å—å', '–õ–µ–Ω–≥–µ—Ä', '–î–æ—Å—Ç—ã–∫', '–ñ–µ—Ç—ã—Å–∞–π', '–ë–∞–π–∫–æ–Ω—É—Ä', '–ê—Ä–∞–ª—å—Å–∫', '–ö–∞–∑–∞–ª–∏–Ω—Å–∫', '–®–∞–ª–∫–∞—Ä', '–ü—Ä–∏–æ–∑–µ—Ä—Å–∫', '–ñ–∞–Ω–∞–æ–∑–µ–Ω', '–§–æ—Ä—Ç-–®–µ–≤—á–µ–Ω–∫–æ', '–ñ–∞–Ω–∞—Ç–∞—Å', '–°–∞—Ä–∞–Ω—å', '–®–∞—Ö—Ç–∏–Ω—Å–∫', '–ü—Ä–∏–æ–∑—ë—Ä—Å–∫', '–ê–±–∞–π', '–ö–∞—Ä–∞–∂–∞–ª', '–°–∞—Ç–ø–∞–µ–≤', '–ê–∫—Å—É', '–ï—Ä–µ–π–º–µ–Ω—Ç–∞—É', '–°—Ç–µ–ø–Ω–æ–≥–æ—Ä—Å–∫', '–ï—Å–∏–ª—å', '–ú–∞–∫–∏–Ω—Å–∫', '–î–µ—Ä–∂–∞–≤–∏–Ω—Å–∫', '–ê—Ç–±–∞—Å–∞—Ä', '–©—É—á–∏–Ω—Å–∫', '–ë–æ—Ä–æ–≤–æ–µ', '–°—Ç–µ–ø–Ω—è–∫', '–ê—Ä–∫–∞–ª—ã–∫', '–õ–∏—Å–∞–∫–æ–≤—Å–∫', '–ñ–∏—Ç–∏–∫–∞—Ä–∞', '–ñ–µ–∑–¥—ã']
  },
  DE: {
    top: ['Berlin', 'M√ºnchen', 'Hamburg', 'Frankfurt', 'K√∂ln'],
    all: ['Berlin', 'M√ºnchen', 'Hamburg', 'Frankfurt', 'K√∂ln', 'Stuttgart', 'D√ºsseldorf', 'Dortmund', 'Essen', 'Leipzig', 'Bremen', 'Dresden', 'Hannover', 'N√ºrnberg', 'Duisburg', 'Bochum', 'Wuppertal', 'Bonn', 'Bielefeld', 'Mannheim', 'Karlsruhe', 'M√ºnster', 'Wiesbaden', 'Augsburg', 'Aachen', 'M√∂nchengladbach', 'Gelsenkirchen', 'Braunschweig', 'Chemnitz', 'Kiel']
  },
  FR: {
    top: ['Paris', 'Marseille', 'Lyon', 'Toulouse', 'Nice'],
    all: ['Paris', 'Marseille', 'Lyon', 'Toulouse', 'Nice', 'Nantes', 'Strasbourg', 'Montpellier', 'Bordeaux', 'Lille', 'Rennes', 'Reims', 'Le Havre', 'Saint-√âtienne', 'Toulon', 'Grenoble', 'Dijon', 'Angers', 'N√Æmes', 'Villeurbanne', 'Saint-Denis', 'Le Mans', 'Aix-en-Provence', 'Clermont-Ferrand', 'Brest', 'Tours', 'Amiens', 'Limoges', 'Annecy', 'Perpignan']
  },
  ES: {
    top: ['Madrid', 'Barcelona', 'Valencia', 'Sevilla', 'Zaragoza'],
    all: ['Madrid', 'Barcelona', 'Valencia', 'Sevilla', 'Zaragoza', 'M√°laga', 'Murcia', 'Palma', 'Las Palmas', 'Bilbao', 'Alicante', 'C√≥rdoba', 'Valladolid', 'Vigo', 'Gij√≥n', 'Hospitalet', 'A Coru√±a', 'Granada', 'Vitoria', 'Elche', 'Oviedo', 'Santa Cruz', 'Badalona', 'Cartagena', 'Terrassa', 'Jerez', 'Sabadell', 'M√≥stoles', 'Alcal√°', 'Pamplona']
  },
  PL: {
    top: ['Warsaw', 'Krak√≥w', '≈Å√≥d≈∫', 'Wroc≈Çaw', 'Pozna≈Ñ'],
    all: ['Warsaw', 'Krak√≥w', '≈Å√≥d≈∫', 'Wroc≈Çaw', 'Pozna≈Ñ', 'Gda≈Ñsk', 'Szczecin', 'Bydgoszcz', 'Lublin', 'Katowice', 'Bia≈Çystok', 'Gdynia', 'Czƒôstochowa', 'Radom', 'Sosnowiec', 'Toru≈Ñ', 'Kielce', 'Rzesz√≥w', 'Gliwice', 'Zabrze', 'Olsztyn', 'Bielsko-Bia≈Ça', 'Bytom', 'Zielona G√≥ra', 'Rybnik', 'Ruda ≈ölƒÖska', 'Opole', 'Tychy', 'Gorz√≥w', 'ElblƒÖg']
  },
  US: {
    top: ['New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix'],
    all: ['New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio', 'San Diego', 'Dallas', 'San Jose', 'Austin', 'Jacksonville', 'Fort Worth', 'Columbus', 'San Francisco', 'Charlotte', 'Indianapolis', 'Seattle', 'Denver', 'Washington', 'Boston', 'El Paso', 'Detroit', 'Nashville', 'Portland', 'Las Vegas', 'Oklahoma City', 'Tucson', 'Albuquerque', 'Atlanta', 'Miami', 'Minneapolis', 'Cleveland', 'Tampa', 'Orlando']
  },
  GB: {
    top: ['London', 'Manchester', 'Birmingham', 'Leeds', 'Glasgow'],
    all: ['London', 'Manchester', 'Birmingham', 'Leeds', 'Glasgow', 'Liverpool', 'Newcastle', 'Sheffield', 'Bristol', 'Edinburgh', 'Leicester', 'Nottingham', 'Coventry', 'Bradford', 'Southampton', 'Brighton', 'Plymouth', 'Reading', 'Bolton', 'Cardiff', 'Sunderland', 'Swansea', 'Derby', 'Wolverhampton', 'Norwich', 'Aberdeen', 'Portsmouth', 'York', 'Cambridge', 'Oxford']
  },
  IT: {
    top: ['Roma', 'Milano', 'Napoli', 'Torino', 'Palermo'],
    all: ['Roma', 'Milano', 'Napoli', 'Torino', 'Palermo', 'Genova', 'Bologna', 'Firenze', 'Bari', 'Catania', 'Venezia', 'Verona', 'Messina', 'Padova', 'Trieste', 'Taranto', 'Brescia', 'Parma', 'Prato', 'Modena', 'Reggio Calabria', 'Reggio Emilia', 'Perugia', 'Livorno', 'Ravenna', 'Cagliari', 'Foggia', 'Rimini', 'Salerno', 'Ferrara']
  },
  TR: {
    top: ['ƒ∞stanbul', 'Ankara', 'ƒ∞zmir', 'Bursa', 'Antalya'],
    all: ['ƒ∞stanbul', 'Ankara', 'ƒ∞zmir', 'Bursa', 'Antalya', 'Adana', 'Gaziantep', 'Konya', 'Mersin', 'Diyarbakƒ±r', 'Kayseri', 'Eski≈üehir', 'Urfa', 'Samsun', 'Denizli', 'Adapazarƒ±', 'Malatya', 'Kahramanmara≈ü', 'Erzurum', 'Van', 'Batman', 'El√¢zƒ±ƒü', 'ƒ∞zmit', 'Manisa', 'Sivas', 'Gebze', 'Balƒ±kesir', 'Tarsus', 'K√ºtahya', 'Trabzon']
  },
  CN: {
    top: ['Beijing', 'Shanghai', 'Guangzhou', 'Shenzhen', 'Chengdu'],
    all: ['Beijing', 'Shanghai', 'Guangzhou', 'Shenzhen', 'Chengdu', 'Chongqing', 'Tianjin', 'Wuhan', 'Dongguan', 'Hangzhou', 'Foshan', 'Nanjing', 'Shenyang', 'Xi\'an', 'Qingdao', 'Zhengzhou', 'Harbin', 'Suzhou', 'Dalian', 'Changchun', 'Kunming', 'Taiyuan', 'Changsha', 'Jinan', 'Xiamen', 'Hefei', 'Ningbo', 'Fuzhou', 'Nanning', 'Guiyang']
  },
  JP: {
    top: ['Tokyo', 'Osaka', 'Yokohama', 'Nagoya', 'Sapporo'],
    all: ['Tokyo', 'Osaka', 'Yokohama', 'Nagoya', 'Sapporo', 'Fukuoka', 'Kobe', 'Kyoto', 'Kawasaki', 'Saitama', 'Hiroshima', 'Sendai', 'Chiba', 'Kitakyushu', 'Sakai', 'Niigata', 'Hamamatsu', 'Kumamoto', 'Sagamihara', 'Shizuoka', 'Okayama', 'Kagoshima', 'Hachioji', 'Funabashi', 'Kawaguchi', 'Himeji', 'Suita', 'Utsunomiya', 'Matsuyama', 'Nara']
  }
};

export default function CityPage() {
  const navigate = useNavigate();
  const { t } = useTranslation();
  const [selectedCountry, setSelectedCountry] = useState('');
  const [selectedCity, setSelectedCity] = useState('');

  useEffect(() => {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω—É –∏–∑ CountryPage
    const savedCountry = localStorage.getItem('registrationCountry');
    if (savedCountry) {
      const country = JSON.parse(savedCountry);
      setSelectedCountry(country.nameRu || country.name);
    }
  }, []);

  const handleContinue = () => {
    if (selectedCity) {
      localStorage.setItem('registrationCity', selectedCity);
      if (window.Telegram?.WebApp?.HapticFeedback) {
        window.Telegram.WebApp.HapticFeedback.notificationOccurred('success');
      }
      navigate('/radius');
    }
  };

  return (
    <div className="city-page">
      <div className="container" style={{ maxWidth: '600px', margin: '0 auto', padding: '20px' }}>
        <h1 style={{ 
          fontSize: '28px', 
          fontWeight: '700', 
          marginBottom: '12px',
          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
          WebkitBackgroundClip: 'text',
          WebkitTextFillColor: 'transparent'
        }}>
          {t('registration.selectCity')}
        </h1>
        <p style={{ color: '#64748b', marginBottom: '32px', fontSize: '15px' }}>
          –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –∏ –≥–æ—Ä–æ–¥ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∏ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏
        </p>

        <LocationSelector
          selectedCountry={selectedCountry}
          selectedCity={selectedCity}
          onCountryChange={setSelectedCountry}
          onCityChange={setSelectedCity}
          placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ"
        />

        <button
          onClick={handleContinue}
          disabled={!selectedCity}
          style={{
            width: '100%',
            marginTop: '32px',
            padding: '16px',
            borderRadius: '16px',
            border: 'none',
            background: selectedCity 
              ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
              : '#e5e7eb',
            color: 'white',
            fontSize: '16px',
            fontWeight: '700',
            cursor: selectedCity ? 'pointer' : 'not-allowed',
            boxShadow: selectedCity ? '0 8px 24px rgba(102, 126, 234, 0.4)' : 'none',
            transition: 'all 0.3s',
            transform: 'scale(1)'
          }}
          onMouseDown={(e) => selectedCity && (e.currentTarget.style.transform = 'scale(0.97)')}
          onMouseUp={(e) => selectedCity && (e.currentTarget.style.transform = 'scale(1)')}
        >
          {selectedCity ? `–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí ${selectedCity}` : '–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥'}
        </button>

        <div style={{
          marginTop: '24px',
          padding: '16px',
          background: 'rgba(102, 126, 234, 0.1)',
          borderRadius: '12px',
          fontSize: '14px',
          color: '#64748b',
          lineHeight: '1.6'
        }}>
          üí° <strong>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª–µ–µ 1000 –≥–æ—Ä–æ–¥–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É!
        </div>
      </div>
    </div>
  );
}
